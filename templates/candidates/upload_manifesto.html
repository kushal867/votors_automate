{% extends 'base.html' %}

{% block title %}Upload Manifesto - {{ candidate.name }} | Voter Vision AI{% endblock %}

{% block content %}
<div style="max-width: 650px; margin: 0 auto;">
    <div class="premium-card">
        <div style="text-align: center; margin-bottom: 2.5rem;">
            <div class="badge badge-primary" style="margin-bottom: 1rem;">GOVERNANCE VISION</div>
            <h1 class="gradient-text" style="font-size: 2rem; margin-bottom: 0.5rem;">Upload Document</h1>
            <p>Processing Ghosada Patra (Manifesto) for <span style="color: white; font-weight: 700;">{{ candidate.name }}</span></p>
        </div>
        
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div style="margin-bottom: 2rem; border: 2px dashed var(--glass-border); padding: 4rem 2rem; border-radius: 20px; text-align: center; transition: all 0.3s; background: rgba(255,255,255,0.01);" onmouseover="this.style.borderColor='var(--primary)'; this.style.background='rgba(99, 102, 241, 0.03)'" onmouseout="this.style.borderColor='var(--glass-border)'; this.style.background='rgba(255,255,255,0.01)'">
                <input type="file" name="pdf_file" id="pdf_file" accept=".pdf" required style="display: none;">
                <label for="pdf_file" style="cursor: pointer;">
                    <div style="width: 64px; height: 64px; background: rgba(99, 102, 241, 0.1); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin: 0 auto 1.5rem; color: var(--primary);">
                        <svg width="32" height="32" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                    </div>
                    <p id="fileName" style="font-weight: 700; font-size: 1.1rem; color: white;">Drop Vision PDF here</p>
                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: 0.5rem;">The AI Intelligence Core will extract and analyze policy goals.</p>
                </label>
            </div>

            <div style="display: flex; gap: 1rem;">
                <a href="{% url 'candidate-detail' candidate.id %}" class="btn-modern btn-outline" style="flex: 1; justify-content: center;">Back to Profile</a>
                <button type="submit" class="btn-modern btn-fill" style="flex: 2; justify-content: center;">Analyze Vision Document</button>
            </div>
        </form>
    </div>
</div>

<script>
    document.getElementById('pdf_file').onchange = function() {
        if (this.files[0]) {
            document.getElementById('fileName').innerHTML = "Selected: " + this.files[0].name;
            document.getElementById('fileName').style.color = "var(--accent)";
        }
    };
</script>
{% endblock %}
